(this["webpackJsonpergo-node-interface"]=this["webpackJsonpergo-node-interface"]||[]).push([[0],{107:function(e,t,a){e.exports=a.p+"static/media/logotype_white.4dcfd639.svg"},111:function(e,t,a){e.exports=a(164)},122:function(e,t,a){},139:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},162:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),s=a(49),o=a(24),i=a(42),u=a(39),m=a(7),d=a(8),p=a(10),b=a(9),h=a(11),f=a(18),E=a(21),y=a(51),w=a(96),g={swaggerInterface:"/swagger",website:"https://ergoplatform.org",explorer:"https://explorer.ergoplatform.com",nanoErgInErg:1e9},v={dashboard:{href:"/",icon:r.a.createElement(f.a,{icon:E.b}),title:"Dashboard"},wallet:{href:"/wallet",icon:r.a.createElement(f.a,{icon:E.e}),title:"Wallet"}},O={swaggerInterface:{href:g.swaggerInterface,icon:r.a.createElement(f.a,{icon:E.a}),title:"Swagger"},explorer:{href:g.explorer,icon:r.a.createElement(f.a,{icon:w.a}),title:"Explorer"},website:{href:g.website,icon:r.a.createElement(f.a,{icon:E.g}),title:"Website"}},S=Object(u.f)((function(e){var t=e.location.pathname;return r.a.createElement("div",null,r.a.createElement("p",{className:"h5 pl-3 pt-4"},"Menu"),r.a.createElement("hr",{className:"mb-0"}),r.a.createElement("div",{className:"list-group list-group-flush"},Object.values(v).map((function(e,a){var n=e.href,l=e.icon,c=e.title;return r.a.createElement(i.b,{key:c,className:Object(y.a)("list-group-item list-group-item-action",{"list-group-item-dark":n===t,active:n===t,"border-top-0":0===a}),to:n},l," ",c)}))),r.a.createElement("p",{className:"h5 pl-3 pt-4"},"External links"),r.a.createElement("hr",{className:"mb-0"}),r.a.createElement("div",{className:"list-group list-group-flush"},Object.values(O).map((function(e,t){var a=e.href,n=e.icon,l=e.title;return r.a.createElement("a",{key:l,className:Object(y.a)("list-group-item list-group-item-action",{"border-top-0":0===t}),href:a,rel:"noopener noreferrer",target:"_blank"},n," ",l)}))))})),N=(a(122),a(75)),j=Object(N.a)((function(e){return e.app}),(function(e){return e.apiKey})),k=function(e){return e.wallet},P=Object(N.a)(k,(function(e){return e.isWalletUnlocked})),I=Object(N.a)(k,(function(e){return e.isWalletInitialized})),C=a(36),W=a(28),_=Object(W.c)({name:"walletSlice",initialState:{isWalletUnlocked:null,isWalletInitialized:null},reducers:{setIsWalletUnlocked:function(e,t){var a=t.payload;e.isWalletUnlocked=a},setIsWalletInitialized:function(e,t){var a=t.payload;e.isWalletInitialized=a}}});function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var K=Object(W.b)("checkWalletStatus"),x=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},_.actions,{checkWalletStatus:K}),F=a(172),z=a(109),U=Object(W.c)({name:"appSlice",initialState:{apiKey:""},reducers:{setApiKey:function(e,t){e.apiKey=t.payload}}});function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var M=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},U.actions),T=a(98),B=a.n(T);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var R=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{nodeApiLink:"/"});function L(e){var t=e.status,a=e.message,n=e.data,r=e.statusText;this.name="NetworkError",this.message=a||r,this.status=t,this.data=n}L.prototype=Object.create(Error.prototype);var Y=B.a.create({baseURL:R.nodeApiLink,timeout:1e4,crossDomain:!0,headers:{"Content-Type":"application/json"}});Y.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(new L(e.response||e))}));var V=Y;a(139);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={success:function(e,t){return s.a.success(e,J({position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,className:"n-toast n-toast--success",bodyClassName:"n-toast__body",progressClassName:"n-toast__progress--success"},t))},error:function(e,t){return s.a.error(e,J({position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,className:"n-toast n-toast--error",bodyClassName:"n-toast__body",progressClassName:"n-toast__progress--error"},t))},info:s.a.info},Q=function(e,t,a){return q[e]?q[e](t,a):new Error("Bad toast state")},X=a(26),Z=a(5),$=function(e){var t=e.showModal,a=e.handleHide,n=e.submitForm,l=e.apiKey,c=e.handleShow;return r.a.createElement("div",null,function(e,t){return""===e?r.a.createElement("button",{onClick:t,className:"btn btn-success"},"Set API key"):r.a.createElement("button",{onClick:t,className:"btn btn-primary"},"Update API key")}(l,c),r.a.createElement(X.a,{show:t,onHide:function(){return a()},centered:!0},r.a.createElement(Z.c,{initialValues:{apiKey:l},onSubmit:n},(function(){return r.a.createElement(Z.b,null,r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,"Authorization")),r.a.createElement(X.a.Body,null,r.a.createElement("p",{className:"text"},"Set API key to access Node requests"),r.a.createElement("div",{className:"input-group"},r.a.createElement(Z.a,{type:"text",name:"apiKey",className:"form-control",placeholder:"Enter API key"}))),r.a.createElement(X.a.Footer,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:a},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save changes")))}))))},ee=Object(o.b)((function(e){return{apiKey:j(e)}}),(function(e){return{dispatchSetApiKey:function(t){return e(M.setApiKey(t))}}}))(Object(n.memo)((function(e){var t=e.dispatchSetApiKey,a=e.apiKey,l=Object(n.useState)(!1),c=Object(z.a)(l,2),s=c[0],o=c[1],i=function(){o(!1)};return r.a.createElement($,{showModal:s,apiKey:a,handleHide:i,submitForm:function(e){V.get("/wallet/status",{headers:{api_key:e.apiKey}}).then((function(){t(e.apiKey),Q("success","API key is set successfully"),i()})).catch((function(){Q("error","Bad API key")}))},handleShow:function(){o(!0)}})}))),te=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={showModal:!1},a.handleShow=function(){a.setState({showModal:!0})},a.handleHide=function(){a.setState({showModal:!1})},a.walletUnlock=function(e){return V.post("/wallet/unlock",{pass:e},{headers:{api_key:a.props.apiKey}})},a.walletLock=function(){return V.get("/wallet/lock",{headers:{api_key:a.props.apiKey}})},a.submitWalletUnlockForm=function(e,t){var n=e.pass,r=t.setSubmitting,l=t.resetForm;(0,t.setStatus)({status:"submitting"}),a.walletUnlock(n).then((function(){l({pass:""}),Q("success","Your wallet is unlocked successfully"),a.props.dispatchSetIsWalletUnlocked(!0),a.handleHide()})).catch((function(e){var t=e.data?e.data.detail:e.message;Q("error",t),r(!1)}))},a.submitWalletLockForm=function(){confirm("Are you sure want to lock wallet?")&&a.walletLock().then((function(){Q("success","Your wallet is locked successfully"),a.props.dispatchSetIsWalletUnlocked(!1)})).catch((function(e){var t=e.data?e.data.detail:e.message;Q("error",t)}))},a.renderButton=function(){return a.props.isWalletUnlocked?r.a.createElement("button",{onClick:a.submitWalletLockForm,className:"btn btn-success"},"Lock wallet"):r.a.createElement("button",{onClick:a.handleShow,className:"btn btn-warning"},"Unlock wallet")},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.renderButton(),r.a.createElement(X.a,{show:this.state.showModal,onHide:function(){return e.handleHide()},centered:!0,"aria-labelledby":"example-custom-modal-styling-title"},r.a.createElement(Z.c,{initialValues:{pass:""},onSubmit:this.submitWalletUnlockForm},(function(t){var a=t.isSubmitting;return r.a.createElement(Z.b,null,r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,{id:"example-custom-modal-styling-title"},"Unlock wallet form")),r.a.createElement(X.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"wallet-password-input"},"Wallet password *"),r.a.createElement(Z.a,{name:"pass",type:"password",id:"wallet-password-input",className:"form-control",placeholder:"Enter wallet password"}),r.a.createElement("small",{id:"walletPasswordHelp",className:"form-text text-muted"},"* If you have it ",r.a.createElement("b",null,"or leave field empty")))),r.a.createElement(X.a.Footer,null,r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:e.handleHide},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a},"Save changes")))}))))}}]),t}(n.Component),ae=Object(o.b)((function(e){return{isWalletUnlocked:P(e),apiKey:j(e)}}),(function(e){return{dispatchSetIsWalletUnlocked:function(t){return e(x.setIsWalletUnlocked(t))}}}))(Object(n.memo)(te)),ne=a(34),re=a.n(ne),le=a(47),ce=a(103),se=a.n(ce),oe=a(169),ie=a(170),ue=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).startTimer=function(){var e=setTimeout((function(){return a.setState({showTooltip:!1})}),1500);a.setState({timerId:e})},a.onCopy=function(e){e.preventDefault(),se()(a.props.children),a.setState({showTooltip:!0}),a.startTimer()},a.handleOnTooltipClose=function(){a.setState({showTooltip:!1})},a.myRef=r.a.createRef(),a.state={showTooltip:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#copyClipboard",ref:this.myRef,onClick:this.onCopy,className:"font-weight-bold text-decoration-none"},this.props.children,"\xa0",r.a.createElement(f.a,{icon:E.d})),r.a.createElement(oe.a,{target:this.myRef.current,show:this.state.showTooltip,placement:"right"},r.a.createElement(ie.a,null,"Copied!")))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timerId)}}]),t}(r.a.PureComponent),me={walletPassword:"",mnemonicPass:""},de=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={isShowMnemonic:!1},a.walletInit=function(){var e=Object(le.a)(re.a.mark((function e(t){var n,r,l,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.walletPassword,r=t.mnemonicPass,e.next=3,V.post("/wallet/init",{pass:n,mnemonicPass:r},{headers:{api_key:a.props.apiKey}});case 3:return l=e.sent,c=l.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(e,t){var n=t.setSubmitting,l=t.resetForm,c=t.setStatus;c({status:"submitting"}),a.walletInit(e).then((function(e){l(me),c({state:"success",msg:r.a.createElement(r.a.Fragment,null,"Your wallet successfully initialized. Please, save your mnemonic -"," ",r.a.createElement(ue,null,e.mnemonic))}),a.setState({isShowMnemonic:!0})})).catch((function(e){var t=e.data?e.data.detail:e.message;Q("error",t),n(!1)}))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card bg-white p-4 mb-4"},r.a.createElement("h2",{className:"h5 mb-3"},"Initialize wallet"),r.a.createElement(Z.c,{initialValues:me,onSubmit:this.handleSubmit},(function(t){var a=t.status,n=t.isSubmitting;return r.a.createElement(Z.b,null,a&&"error"===a.state&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.msg),a&&"success"===a.state&&e.state.isShowMnemonic&&r.a.createElement("div",{className:"alert alert-success alert-dismissible"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return e.setState({isShowMnemonic:!1})}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),a.msg),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"wallet-password-input"},"Wallet password"),r.a.createElement(Z.a,{name:"walletPassword",type:"password",id:"wallet-password-input",className:"form-control",placeholder:"Enter wallet password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"mnemonic-password-input"},"Mnemonic password"),r.a.createElement(Z.a,{name:"mnemonicPass",type:"password",id:"mnemonic-password-input",className:"form-control",placeholder:"Enter mnemonic password"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:n},"Send"))})))}}]),t}(n.Component),pe=Object(n.memo)(de),be={walletPassword:"",mnemonicPass:"",mnemonic:""},he=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).walletRestore=function(){var e=Object(le.a)(re.a.mark((function e(t){var n,r,l;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.walletPassword,r=t.mnemonicPass,l=t.mnemonic,e.abrupt("return",V.post("/wallet/restore",{pass:n,mnemonicPass:r,mnemonic:l},{headers:{api_key:a.props.apiKey}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(e,t){var n=t.setSubmitting,r=t.resetForm;(0,t.setStatus)({status:"submitting"}),a.walletRestore(e).then((function(){r(be),Q("success","Your wallet successfully re-stored")})).catch((function(e){var t=e.data?e.data.detail:e.message;Q("error",t),n(!1)}))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card bg-white p-4 mb-4"},r.a.createElement("h2",{className:"h5 mb-3"},"Re-store wallet"),r.a.createElement(Z.c,{initialValues:be,onSubmit:this.handleSubmit},(function(e){var t=e.status,a=e.isSubmitting;return r.a.createElement(Z.b,null,t&&"error"===t.state&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},t.msg),t&&"success"===t.state&&r.a.createElement("div",{className:"alert alert-success"},t.msg),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"restore-mnemonic-input"},"Mnemonic"),r.a.createElement(Z.a,{name:"mnemonic",type:"text",id:"restore-mnemonic-input",className:"form-control",placeholder:"Enter mnemonic"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"restore-wallet-password-input"},"Wallet password"),r.a.createElement(Z.a,{name:"walletPassword",type:"password",id:"restore-wallet-password-input",className:"form-control",placeholder:"Enter wallet password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"restore-mnemonic-password-input"},"Mnemonic password"),r.a.createElement(Z.a,{name:"mnemonicPass",type:"password",id:"restore-mnemonic-password-input",className:"form-control",placeholder:"Enter mnemonic password"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a},"Send"))})))}}]),t}(n.Component),fe=Object(n.memo)(he),Ee=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={showModal:!1},a.handleShow=function(){a.setState({showModal:!0})},a.handleHide=function(){a.props.dispatchCheckWalletStatus(),a.setState({showModal:!1})},a.renderButton=function(){return r.a.createElement("button",{onClick:a.handleShow,className:"btn btn-danger"},"Initialize wallet")},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.apiKey;return r.a.createElement("div",null,this.renderButton(),r.a.createElement(X.a,{show:this.state.showModal,onHide:function(){return e.handleHide()},centered:!0,size:"lg"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,{id:"example-custom-modal-styling-title"},"Wallet initialization")),r.a.createElement(X.a.Body,{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(pe,{apiKey:t})),r.a.createElement("div",{className:"col-6"},r.a.createElement(fe,{apiKey:t}))),r.a.createElement(X.a.Footer,null,r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.handleHide},"Close"))))}}]),t}(n.Component),ye=Object(o.b)((function(e){return{apiKey:j(e)}}),(function(e){return{dispatchCheckWalletStatus:function(){return e(x.checkWalletStatus())},dispatchSetApiKey:function(t){return e(M.setApiKey(t))}}}))(Object(n.memo)(Ee)),we=a(107),ge=a.n(we),ve=Object(n.memo)((function(e){var t=e.isApiKeySetted,a=e.isWalletInitialized;return r.a.createElement(F.a,{className:"navbar-background",expand:"lg"},r.a.createElement(F.a.Brand,{className:"navbar-brand"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{src:ge.a,alt:"logotype",className:"logotype"}))),r.a.createElement("div",{className:"ml-4"},r.a.createElement(ee,null)),t&&function(e){return null===e?r.a.createElement(r.a.Fragment,null):e?r.a.createElement("div",{className:"ml-4"},r.a.createElement(ae,null)):r.a.createElement("div",{className:"ml-4"},r.a.createElement(ye,null))}(a))})),Oe=Object(o.b)((function(e){return{apiKey:j(e),isWalletInitialized:I(e)}}),(function(e){return{dispatchCheckWalletStatus:function(){return e(x.checkWalletStatus())}}}))(Object(n.memo)((function(e){var t=e.apiKey,a=e.dispatchCheckWalletStatus,l=e.isWalletInitialized;Object(n.useEffect)((function(){""!==t&&a()}),[t,a]);var c=""!==t;return r.a.createElement(ve,{isApiKeySetted:c,isWalletInitialized:l})}))),Se=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Oe,null),r.a.createElement("div",{className:"sidebar"},r.a.createElement(S,null)),r.a.createElement("main",{className:"main-container"},r.a.createElement("div",{className:"content h-100"},this.props.children)))}}]),t}(n.Component),Ne=Object(u.f)(Se),je=a(171),ke=(a(159),function(e){var t=e.color,a=e.children,n=e.className;return r.a.createElement("div",{className:Object(y.a)({"info-card":!0,"info-card--green":"green"===t,"info-card--orange":"orange"===t},n)},a)}),Pe=(a(160),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).renderActiveSynchronization=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"info-card__title"},"Current node state"),r.a.createElement("p",{className:"info-card__label text-warning"},r.a.createElement(f.a,{icon:E.h,spin:!0})," Active synchronization"))},a.renderCompleteSynchronization=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"info-card__title"},"Current node state"),r.a.createElement("p",{className:"info-card__label text-success"},r.a.createElement(f.a,{icon:E.c})," Node is synced"))},a.renderSynchronizationState=function(e){return{active:a.renderActiveSynchronization,complete:a.renderCompleteSynchronization}[e]},a.getSynchronizationState=function(e){var t=e.fullHeight,a=e.headersHeight;return null!==t&&null!==a&&t===a?"complete":"active"},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.getSynchronizationState(e)!==this.getSynchronizationState(this.props.nodeInfo)}},{key:"render",value:function(){var e=this.getSynchronizationState(this.props.nodeInfo);return r.a.createElement(ke,{className:this.props.className},this.renderSynchronizationState(e)())}}]),t}(n.Component)),Ie=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={nodeInfo:null,error:null},a.getNodeCurrentState=function(){return V.get("/info")},a.setNodeCurrentState=Object(le.a)(re.a.mark((function e(){var t,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getNodeCurrentState();case 3:t=e.sent,n=t.data,a.setState({nodeInfo:n,error:null}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({error:"Node connection is lost."});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.setTimer=function(){var e=setInterval(a.setNodeCurrentState,2e3);a.setState({timerId:e})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setNodeCurrentState(),this.setTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timerId)}},{key:"render",value:function(){if(null!==this.state.error)return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid h-100 d-flex align-items-center justify-content-center"},r.a.createElement("h3",{className:"text-danger"},r.a.createElement(f.a,{icon:E.f}),"\xa0",this.state.error)));if(null===this.state.nodeInfo)return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid h-100 d-flex align-items-center justify-content-center"},r.a.createElement(f.a,{className:"h1",icon:E.h,spin:!0})));var e=this.state.nodeInfo,t=e.peersCount,a=e.bestHeaderId,l=e.launchTime,c=e.fullHeight,s=e.appVersion,o=e.isMining;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 p-0 border-right mb-3"},r.a.createElement(ke,{className:"card rounded-0 shadow-none border-bottom"},r.a.createElement("p",{className:"info-card__title"},"Node version"),r.a.createElement("p",{className:"info-card__label"},s))),r.a.createElement("div",{className:"col-3 p-0 border-right mb-3"},r.a.createElement(Pe,{nodeInfo:this.state.nodeInfo,className:"border-bottom"})),r.a.createElement("div",{className:"col-3 p-0 border-right mb-3"},r.a.createElement(ke,{className:"rounded-0 shadow-none border-bottom"},r.a.createElement("p",{className:"info-card__title"},"Node started at"),r.a.createElement("p",{className:"info-card__label"},Object(je.a)(new Date(l),"MM-dd-yyyy HH:mm:ss")))),null===c?null:r.a.createElement("div",{className:"col-3 p-0 border-right mb-3"},r.a.createElement(ke,{className:"rounded-0 shadow-none border-bottom"},r.a.createElement("p",{className:"info-card__title"},"Current height"),r.a.createElement("p",{className:"info-card__label"},c))),null===a?null:r.a.createElement("div",{className:"col-3 p-0 border-right mb-3"},r.a.createElement(ke,{className:"rounded-0 shadow-none border-bottom"},r.a.createElement("p",{className:"info-card__title"},"Best block id"),r.a.createElement("p",{className:"info-card__label"},a))),r.a.createElement("div",{className:"col-3 p-0 border-right mb-3"},r.a.createElement(ke,{className:"rounded-0 shadow-none border-bottom"},r.a.createElement("p",{className:"info-card__title"},"Mining enabled"),r.a.createElement("p",{className:"info-card__label"},o?"true":"false"))),r.a.createElement("div",{className:"col-3 p-0 border-right mb-3"},r.a.createElement(ke,{className:"rounded-0 shadow-none border-bottom"},r.a.createElement("p",{className:"info-card__title"},"Peers connected"),r.a.createElement("p",{className:"info-card__label"},t))))))}}]),t}(n.Component),Ce={recipientAddress:"",amount:""},We=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={isShowTransactionId:!1},a.paymentSend=function(e){var t=e.recipientAddress,n=e.amount;return V.post("/wallet/payment/send",[{address:t,value:Number(n*g.nanoErgInErg)}],{headers:{api_key:a.props.apiKey}})},a.handleSubmit=function(e,t){var n=t.setSubmitting,l=t.resetForm,c=t.setStatus;c({status:"submitting"}),a.paymentSend(e).then((function(e){var t=e.data;l(Ce),c({state:"success",msg:r.a.createElement(r.a.Fragment,null,"Your payment successfully sent. Your transaction ID -"," ",r.a.createElement(ue,null,t))}),a.setState({isShowTransactionId:!0})})).catch((function(e){var t=e.data?e.data.detail:e.message;Q("error",t),n(!1)}))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card bg-white p-4 mb-4"},r.a.createElement("h2",{className:"h5 mb-3"},"Payment send"),r.a.createElement(Z.c,{initialValues:Ce,onSubmit:this.handleSubmit},(function(t){var a=t.status,n=t.isSubmitting;return r.a.createElement(Z.b,null,a&&"success"===a.state&&e.state.isShowTransactionId&&r.a.createElement("div",{className:"alert alert-success alert-dismissible"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return e.setState({isShowTransactionId:!1})}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),a.msg),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"recipient-address"},"Recipient address"),r.a.createElement(Z.a,{type:"text",name:"recipientAddress",id:"recipient-address-input",className:"form-control",placeholder:"Enter recipient address"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"amount"},"Amount"),r.a.createElement(Z.a,{type:"text",name:"amount",id:"amount-input",className:"form-control",placeholder:"Minimum 0.001 ERG"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:n},"Send"))}))))}}]),t}(n.PureComponent),_e=a(108),Ae={walletPassword:""},Ke=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={isShowBalance:!1},a.getBalance=function(){return V.get("/wallet/balances",{headers:{api_key:a.props.apiKey}})},a.handleSubmit=function(e,t){var n=t.setSubmitting,l=t.resetForm,c=t.setStatus;c({status:"submitting"}),a.getBalance(e).then((function(e){var t=e.data.balance;l(Ae),c({state:"success",msg:r.a.createElement(r.a.Fragment,null,"Your wallet balance -"," ",r.a.createElement(_e.a,{value:(t/1e9).toFixed(8),displayType:"text",thousandSeparator:!0,suffix:" ERG",className:"font-weight-bold"}))}),a.setState({isShowBalance:!0})})).catch((function(e){var t=e.data?e.data.detail:e.message;Q("error",t),n(!1)}))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card bg-white p-4 mb-4"},r.a.createElement("h2",{className:"h5 mb-3"},"Get confirmed wallet balance"),r.a.createElement(Z.c,{initialValues:Ae,onSubmit:this.handleSubmit},(function(t){var a=t.status,n=t.isSubmitting;return r.a.createElement(Z.b,null,a&&"success"===a.state&&e.state.isShowBalance&&r.a.createElement("div",{className:"alert alert-info alert-dismissible"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return e.setState({isShowBalance:!1})}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),a.msg),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:n},"Get"))}))))}}]),t}(n.PureComponent),xe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={isShowWalletAddresses:!1},a.getWalletAddresses=function(){return V.get("/wallet/addresses",{headers:{api_key:a.props.apiKey}})},a.handleSubmit=function(e,t){var n=t.setSubmitting,l=t.setStatus;l({status:"submitting"}),a.getWalletAddresses(e).then((function(e){var t=e.data;l({state:"success",msg:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"mb-1"},"Wallet Addresses:"),r.a.createElement("ul",{className:"mb-3"},t.map((function(e){return r.a.createElement("li",{className:"mb-1",key:e},r.a.createElement(ue,null,e))}))))}),a.setState({isShowWalletAddresses:!0}),n(!1)})).catch((function(e){var t=e.data?e.data.detail:e.message;Q("error",t),n(!1)}))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card bg-white p-4 mb-4"},r.a.createElement("h2",{className:"h5 mb-3"},"Get all wallet addresses"),r.a.createElement(Z.c,{onSubmit:this.handleSubmit},(function(t){var a=t.status,n=t.isSubmitting;return r.a.createElement(Z.b,null,a&&"success"===a.state&&e.state.isShowWalletAddresses&&r.a.createElement("div",{className:"alert alert-info alert-dismissible"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return e.setState({isShowWalletAddresses:!1})}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),a.msg),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:n},"Get"))}))))}}]),t}(n.PureComponent),Fe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).renderState=function(e){return{unlocked:function(e){return a.renderWalletUnlockedState(e)},locked:function(){return a.renderWalletLockedState()},initialized:function(e){return a.renderInitializedState(e)}}[e]},a.renderWalletUnlockedState=function(e){return r.a.createElement("div",{className:"container-fluid pt-4"},r.a.createElement("div",{className:"row"},r.a.createElement(We,{apiKey:e}),r.a.createElement(Ke,{apiKey:e}),r.a.createElement(xe,{apiKey:e})))},a.renderWalletLockedState=function(){return r.a.createElement("div",{className:"container-fluid pt-4"},r.a.createElement("p",null,"The wallet UI is locked. You need to unlock the wallet to access its UI."))},a.renderInitializedState=function(){return r.a.createElement("div",{className:"container-fluid pt-4"},r.a.createElement("p",null,"You need to initializer your wallet to access wallet UI."))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.apiKey,a=e.isWalletUnlocked,n=e.isWalletInitialized;return""===t?r.a.createElement("div",{className:"container-fluid pt-4"},r.a.createElement("p",null,"For continue need to set API key.")):n?a?this.renderState("unlocked")(t):this.renderState("locked")():this.renderState("initialized")(t)}}]),t}(n.Component),ze=Object(o.b)((function(e){return{apiKey:j(e),isWalletInitialized:I(e),isWalletUnlocked:P(e)}}))(Object(n.memo)(Fe)),Ue=function(){return r.a.createElement(i.a,{basename:"/panel"},r.a.createElement(Ne,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:Ie}),r.a.createElement(u.a,{exact:!0,path:"/wallet",component:ze}))))},He=a(110),Me=a(23),Te=Object(Me.combineReducers)({app:U.reducer,wallet:_.reducer}),Be=function(e){return function(t){return function(a){var n=e.dispatch,r=e.getState,l=j(r());switch(a.type){case x.checkWalletStatus.type:V.get("/wallet/status",{headers:{api_key:l}}).then((function(e){var t=e.data,a=t.isUnlocked,r=t.isInitialized;n(x.setIsWalletUnlocked(a)),n(x.setIsWalletInitialized(r))})).catch((function(){}))}t(a)}}};a(161),a(162),a(163);s.a.configure();var De=Object(W.a)({reducer:Te,middleware:[].concat(Object(He.a)(Object(W.d)()),[Be])}),Re=function(){return r.a.createElement(o.a,{store:De},r.a.createElement(Ue,null))};c.a.render(r.a.createElement(Re,null),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.0be7d170.chunk.js.map